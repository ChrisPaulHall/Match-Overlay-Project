# Requires Python 3.10 or 3.11 (scikit-image >=0.25 needs 3.10+; Python 3.13 not supported)
#
# **Recommended:** follow the staged install in README.md/QUICKSTART.md to avoid long
# OpenCV source builds. `pip install -r requirements.txt` can work but may compile
# OpenCV from source (slow). Order matters for the staged approach.
#
# **Apple Silicon (M1/M2/M3):** Do NOT use `pip install -r requirements.txt` directly.
# Instead, run the automated installer from the repo root:
#   bash 03_scripts/install_m1.sh
# Or follow the Apple Silicon section in QUICKSTART.md which uses:
#   - tensorflow-macos + tensorflow-metal (instead of tensorflow)
#   - onnxruntime-silicon (instead of onnxruntime)
#   - Pinned numpy==1.26.4 to avoid threading conflicts
#
# GPU Support: On macOS, onnxruntime includes CoreMLExecutionProvider for GPU acceleration.

# Core Web Framework
Flask>=3.0,<4.0

# Web Scraping & Parsing
beautifulsoup4>=4.12,<5.0
requests>=2.31,<3.0
urllib3>=2.0,<3.0

# Data Processing
numpy>=1.26,<2.0
PyYAML>=6.0,<7.0
xxhash>=3.4,<4.0

# Image Processing
pillow>=10.0,<11.0
opencv-python-headless>=4.8,<5.0
scikit-image>=0.22,<1.0

# Machine Learning / Face Recognition
# IMPORTANT: onnx must be <1.17 due to ml_dtypes compatibility issues
# onnxruntime includes CoreMLExecutionProvider on macOS for GPU acceleration
tensorflow>=2.15,<2.20
onnx>=1.14,<1.17
onnxruntime>=1.18,<2.0
insightface>=0.7,<0.8
deepface>=0.0.90,<0.1

# DeepFace sub-dependencies (install with --no-deps to avoid opencv rebuild)
fire>=0.4.0
gdown>=3.10.1
gunicorn>=20.1.0
mtcnn>=0.1.0
retina-face>=0.0.1

# OCR (optional - requires Tesseract binary: brew install tesseract)
pytesseract>=0.3,<1.0

# Financial Data API (optional - for live trade data)
quiverquant>=0.2,<1.0

# Installation notes:
# - If OpenCV attempts to build from source, install deepface with --no-deps
#   and then install the explicit dependencies above. See README for details.
# - tensorflow-estimator is pulled in automatically by tensorflow>=2.15
